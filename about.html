<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è 2.5D –∏–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π –∏–≥—Ä—ã Isomeria</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f8f9fa;
    }
    
    h1, h2, h3, h4 {
      color: #2c3e50;
    }
    
    h1 {
      text-align: center;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
    }
    
    h2 {
      border-bottom: 2px solid #3498db;
      padding-bottom: 5px;
      margin-top: 30px;
    }
    
    h3 {
      color: #34495e;
      margin-top: 25px;
    }
    
    code {
      background-color: #ecf0f1;
      padding: 2px 5px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
    
    pre {
      background-color: #ecf0f1;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 14px;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    th, td {
      border: 1px solid #bdc3c7;
      padding: 10px;
      text-align: left;
    }
    
    th {
      background-color: #3498db;
      color: white;
    }
    
    tr:nth-child(even) {
      background-color: #f2f2f2;
    }
    
    .section {
      background-color: white;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .note {
      background-color: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
      border-radius: 0 4px 4px 0;
    }
  </style>
</head>
<body>
  <h1>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è 2.5D –∏–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π –∏–≥—Ä—ã Isomeria</h1>

  <div class="section">
    <h2>üìã –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</h2>
    <p>Isomeria - —ç—Ç–æ 2.5D –∏–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞ —Å –≤–∏–¥–æ–º —Å–≤–µ—Ä—Ö—É, –≥–¥–µ –∏–≥—Ä–æ–∫ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫—É–±–æ–º, –ø–µ—Ä–µ–º–µ—â–∞—è—Å—å –ø–æ –∫–∞—Ä—Ç–µ –∏ —Å–æ–±–∏—Ä–∞—è –∫—Ä–∏—Å—Ç–∞–ª–ª—ã. –ò–≥—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Å–µ–≤–¥–æ-3D –æ—Ç—Ä–∏—Å–æ–≤–∫—É —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –≥–ª—É–±–∏–Ω–µ (z-index).</p>
  </div>

  <div class="section">
    <h2>üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
    <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:</h3>
    <ol>
      <li><strong>HTML/CSS</strong> - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
      <li><strong>Canvas 2D Context</strong> - –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
      <li><strong>Game State</strong> - –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã</li>
      <li><strong>Input System</strong> - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –º—ã—à–∏</li>
      <li><strong>Rendering System</strong> - –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Å z-buffer</li>
      <li><strong>Game Loop</strong> - –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏–≥—Ä—ã</li>
      <li><strong>Pathfinding</strong> - –ü–æ–∏—Å–∫ –ø—É—Ç–∏ (A* –∞–ª–≥–æ—Ä–∏—Ç–º)</li>
    </ol>
  </div>

  <div class="section">
    <h2>üéÆ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
    <pre>
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   ‚Üì
2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (—Ç–µ–∫—Å—Ç—É—Ä)
   ‚Üì
3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ UI
   ‚Üì
4. –ó–∞–ø—É—Å–∫ Game Loop
   ‚Üì
5. –í –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ:
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –†–∞—Å—á–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è
   - –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—Ü–µ–Ω—ã
   ‚Üì
6. –ü–æ–≤—Ç–æ—Ä –ø—É–Ω–∫—Ç–∞ 5 —á–µ—Ä–µ–∑ requestAnimationFrame
    </pre>
  </div>

  <div class="section">
    <h2>üß† –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ</h2>
    
    <h3>üé® –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏</h3>
    
    <h4><code>render()</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≤—Å–µ–π —Å—Ü–µ–Ω—ã</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
    <ul>
      <li>–û—á–∏—â–∞–µ—Ç canvas</li>
      <li>–û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Ç–∞–π–ª—ã –∫–∞—Ä—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –ø–æ –≥–ª—É–±–∏–Ω–µ</li>
      <li>–û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –ø—É—Ç—å, –∏–≥—Ä–æ–∫–∞ –∏ –∫—Ä–∏—Å—Ç–∞–ª–ª</li>
    </ul>
    <p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ (x+y) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ z-buffer</p>
    
    <h4><code>drawTile(x, y, textureType = 'floor', fogOpacity = FOG_OPACITY_FAR)</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ç–∞–π–ª–∞</p>
    <p><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:</strong></p>
    <ul>
      <li><code>x, y</code> - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–∞–π–ª–∞ –Ω–∞ –∫–∞—Ä—Ç–µ</li>
      <li><code>textureType</code> - —Ç–∏–ø —Ç–µ–∫—Å—Ç—É—Ä—ã ('floor', 'wall', –∏ —Ç.–¥.)</li>
      <li><code>fogOpacity</code> - —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã</li>
    </ul>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –∏–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –∏ —Ä–∏—Å—É–µ—Ç —Ç–∞–π–ª —Å —É—á–µ—Ç–æ–º –∫–∞–º–µ—Ä—ã –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏</p>
    
    <h4><code>calculateFogOpacity(tileX, tileY)</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –†–∞—Å—á–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
    <ul>
      <li>–í—ã—á–∏—Å–ª—è–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –∏–≥—Ä–æ–∫–∞ –¥–æ —Ç–∞–π–ª–∞</li>
      <li>–ü—Ä–∏–º–µ–Ω—è–µ—Ç –ø–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –≤ —Ä–∞–¥–∏—É—Å–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏</li>
      <li><strong>–í–ê–ñ–ù–û:</strong> –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ —Ç–∞–π–ª–∞–º "–∑–∞" –∏–≥—Ä–æ–∫–æ–º (–±–æ–ª—å—à–∏–π z-index)</li>
    </ul>
    
    <h4><code>drawPlayer()</code>, <code>drawCrystal()</code>, <code>drawPathTile()</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∏–≥—Ä–æ–∫–∞, –∫—Ä–∏—Å—Ç–∞–ª–ª–∞ –∏ –ø—É—Ç–∏ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</p>
    
    <h3>üéÆ –°–∏—Å—Ç–µ–º–∞ –≤–≤–æ–¥–∞</h3>
    
    <h4><code>handleKeyboardInput()</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–≥–æ –≤–≤–æ–¥–∞</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
    <ul>
      <li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–∂–∞—Ç—ã–µ –∫–ª–∞–≤–∏—à–∏ —Å—Ç—Ä–µ–ª–æ–∫</li>
      <li>–ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏</li>
      <li>–ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤–≤–æ–¥ –≤–æ –≤—Ä–µ–º—è –¥–≤–∏–∂–µ–Ω–∏—è</li>
    </ul>
    
    <h4><code>handleMouseInput()</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –º—ã—à–∏</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
    <ul>
      <li>–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞—Ä—Ç—ã</li>
      <li>–ù–∞—Ö–æ–¥–∏—Ç –ø—É—Ç—å –æ—Ç –∏–≥—Ä–æ–∫–∞ –∫ —Ç–æ—á–∫–µ –∫–ª–∏–∫–∞</li>
      <li>–ó–∞–ø—É—Å–∫–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É –ø—É—Ç–∏</li>
    </ul>
    
    <h3>üö∂ –°–∏—Å—Ç–µ–º–∞ –¥–≤–∏–∂–µ–Ω–∏—è</h3>
    
    <h4><code>startMovement(targetX, targetY)</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –ù–∞—á–∞–ª–æ –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
    <ul>
      <li>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è</li>
      <li>–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–µ –∏ —Ü–µ–ª–µ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</li>
    </ul>
    
    <h4><code>updateMovement(currentTime)</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –ø–ª–∞–≤–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
    <ul>
      <li>–í—ã—á–∏—Å–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏</li>
      <li>–ü—Ä–∏–º–µ–Ω—è–µ—Ç ease-in-out –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é</li>
      <li>–û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–≥—Ä–æ–∫–∞</li>
    </ul>
    
    <h4><code>moveAlongPath()</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –î–≤–∏–∂–µ–Ω–∏–µ –ø–æ –∑–∞—Ä–∞–Ω–µ–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–º—É –ø—É—Ç–∏</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
    <ul>
      <li>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –ø–æ —Ç–æ—á–∫–∞–º –ø—É—Ç–∏</li>
      <li>–ë–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏</li>
    </ul>
    
    <h3>üîç Pathfinding (–ø–æ–∏—Å–∫ –ø—É—Ç–∏)</h3>
    
    <h4><code>findPath(start, end)</code></h4>
    <p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong> –ü–æ–∏—Å–∫ –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏ (–∞–ª–≥–æ—Ä–∏—Ç–º A*)</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
    <ul>
      <li>–†–µ–∞–ª–∏–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º A* –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏</li>
      <li>–£—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è (—Å—Ç–µ–Ω—ã)</li>
      <li>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—É—Ç–∏</li>
    </ul>
  </div>

  <div class="section">
    <h2>üìê –ú–µ—Ö–∞–Ω–∏–∑–º z-buffer –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø–æ –≥–ª—É–±–∏–Ω–µ</h2>
    
    <h3>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:</h3>
    <ol>
      <li><strong>–ò–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y</strong> –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥–ª—É–±–∏–Ω—É –æ–±—ä–µ–∫—Ç–∞: <code>depth = x + y</code></li>
      <li><strong>–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:</strong> —Ç–∞–π–ª—ã —Ä–∏—Å—É—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è <code>x + y</code></li>
      <li><strong>–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ:</strong> –¥–∞–ª—å–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã —Ä–∏—Å—É—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏, –±–ª–∏–∂–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö –Ω–∏—Ö</li>
    </ol>
    
    <h3>–ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:</h3>
    <pre>// –†–∏—Å—É–µ–º —Ç–∞–π–ª—ã –ø–æ –¥–∏–∞–≥–æ–Ω–∞–ª—è–º (x + y = const)
for (let depth = 0; depth < 2 * MAP_SIZE; depth++) {
    for (let x = 0; x < MAP_SIZE; x++) {
        const y = depth - x;
        if (y >= 0 && y < MAP_SIZE) {
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–∞–π–ª–∞ —Å —É—á–µ—Ç–æ–º –≥–ª—É–±–∏–Ω—ã
            drawTile(x, y, ...);
        }
    }
}</pre>
    
    <h3>–¢—É–º–∞–Ω –≤–æ–π–Ω—ã (Fog of War):</h3>
    <ul>
      <li><strong>–†–∞–¥–∏—É—Å –≤–∏–¥–∏–º–æ—Å—Ç–∏:</strong> 3 —Ç–∞–π–ª–∞ –≤–æ–∫—Ä—É–≥ –∏–≥—Ä–æ–∫–∞</li>
      <li><strong>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ —Ç–∞–π–ª–∞–º "–∑–∞" –∏–≥—Ä–æ–∫–æ–º</strong> (–±–æ–ª—å—à–∏–π z-index)</li>
      <li><strong>–ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥:</strong> –æ—Ç –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ –∫ –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ–º—É –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ä–∞–¥–∏—É—Å–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏</li>
    </ul>
  </div>

  <div class="section">
    <h2>‚öôÔ∏è –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
    
    <table>
      <tr>
        <th>–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞</th>
        <th>–ó–Ω–∞—á–µ–Ω–∏–µ</th>
        <th>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</th>
      </tr>
      <tr>
        <td><code>MAP_SIZE</code></td>
        <td>10</td>
        <td>–†–∞–∑–º–µ—Ä –∏–≥—Ä–æ–≤–æ–π –∫–∞—Ä—Ç—ã</td>
      </tr>
      <tr>
        <td><code>TILE</code></td>
        <td>40</td>
        <td>–†–∞–∑–º–µ—Ä —Ç–∞–π–ª–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö</td>
      </tr>
      <tr>
        <td><code>PATH_COLOR</code></td>
        <td>'rgba(56, 189, 248, 0.3)'</td>
        <td>–¶–≤–µ—Ç –ø—É—Ç–∏ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</td>
      </tr>
      <tr>
        <td><code>MOVE_DURATION</code></td>
        <td>300</td>
        <td>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è (–º—Å)</td>
      </tr>
      <tr>
        <td><code>DEBUG</code></td>
        <td>true</td>
        <td>–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏</td>
      </tr>
      <tr>
        <td><code>FOG_OPACITY_NEAR</code></td>
        <td>0.1</td>
        <td>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (–≤–∏–¥–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã)</td>
      </tr>
      <tr>
        <td><code>FOG_OPACITY_FAR</code></td>
        <td>1.0</td>
        <td>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (—Å–∫—Ä—ã—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã)</td>
      </tr>
      <tr>
        <td><code>FOG_VISIBILITY_RADIUS</code></td>
        <td>3</td>
        <td>–†–∞–¥–∏—É—Å –≤–∏–¥–∏–º–æ—Å—Ç–∏ (—Ç–∞–π–ª—ã)</td>
      </tr>
      <tr>
        <td><code>FOG_TRANSITION_DISTANCE</code></td>
        <td>1.0</td>
        <td>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞</td>
      </tr>
    </table>
  </div>

  <div class="section">
    <h2>üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</h2>
    
    <ol>
      <li><strong>–ò–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–µ–∫—Ü–∏—è</strong>
        <ul>
          <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</li>
          <li>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</li>
        </ul>
      </li>
      
      <li><strong>z-buffer –±–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</strong>
        <ul>
          <li>–í–º–µ—Å—Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π –æ–±—Ö–æ–¥</li>
          <li>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
        </ul>
      </li>
      
      <li><strong>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</strong>
        <ul>
          <li>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –æ–±—ä–µ–∫—Ç–∞–º "–∑–∞" –∏–≥—Ä–æ–∫–æ–º</li>
          <li>–û–±—ä–µ–∫—Ç—ã "–ø–µ—Ä–µ–¥" –∏–≥—Ä–æ–∫–æ–º –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏</li>
          <li>–≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –≥–µ–π–º–ø–ª–µ—è - –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥</li>
        </ul>
      </li>
      
      <li><strong>–ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ</strong>
        <ul>
          <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ease-in-out –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è</li>
          <li>–î–≤–∏–∂–µ–Ω–∏–µ –ø–æ –ø—É—Ç–∏ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫</li>
        </ul>
      </li>
      
      <li><strong>–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong>
        <ul>
          <li> –†–µ—Å–ø–æ–Ω—Å–∏–≤ –¥–∏–∑–∞–π–Ω —Å TailwindCSS</li>
          <li>–ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
        </ul>
      </li>
      
      <li><strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</strong>
        <ul>
          <li>–ï–¥–∏–Ω—ã–π game loop —á–µ—Ä–µ–∑ requestAnimationFrame</li>
          <li>–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫</li>
          <li>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏</li>
        </ul>
      </li>
    </ol>
  </div>

  <div class="section">
    <h2>üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è</h2>
    
    <ol>
      <li><strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è pathfinding</strong> - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö</li>
      <li><strong>–°–∏—Å—Ç–µ–º–∞ —á–∞—Å—Ç–∏—Ü</strong> - –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤</li>
      <li><strong>–ó–≤—É–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞</strong> - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤</li>
      <li><strong>–°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–∞–π—Ç–æ–≤</strong> - –∑–∞–º–µ–Ω–∞ —Ü–≤–µ—Ç–Ω—ã—Ö –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</li>
      <li><strong>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</strong> - localStorage –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—á–µ—Ç–∞</li>
    </ol>
  </div>

  <div class="note">
    <p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–ª–∞–≤–Ω—É—é 60 FPS –æ—Ç—Ä–∏—Å–æ–≤–∫—É —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–º —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã, —Å–æ–∑–¥–∞–≤–∞—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π –æ–ø—ã—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ.</p>
  </div>
</body>
</html>